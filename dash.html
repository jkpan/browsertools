<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" charset="UTF-8"/>
  <style>
  body {
    margin: 0px;
    height: 100%;
    width: 100%;
    background-color: rgb(50, 50, 50);
  }
  ::-webkit-scrollbar {
    display: none;
  }
  .wrapper {
    display: grid;
    gap: 0px;
    
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
    grid-template-rows:    1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;

    width: 100%;
    height: 100vh;
  }
  .full {
    
    grid-column: 1 / 33;
    grid-row: 1 / 33;

    user-select: none;

    border-radius: 10px;

    /*transform-origin: left center;*/

  }
</style>
</head>
<body>

<div id="mainDiv" class="wrapper" style="background-color: #007000; opacity: 1.0;"></div>

</body>
</html>
<script type="text/javascript" src="dashboard.js" charset="UTF-8"></script>
<script>

function readParam(param) {
    // 获取当前页面的URL
    var currentURL = window.location.href;

    // 通过URLSearchParams对象解析URL参数
    var urlParams = new URLSearchParams(window.location.search);

    // 获取特定参数的值
    var parameterValue = urlParams.get(param);//'参数名');

    // 输出参数值到控制台
    console.log('参数值为：', parameterValue);

    return parameterValue;
}

function detectDevice() {
    var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
    if (isMobile) {
        console.log('This is a mobile device.');
        return true;
    } else {
        console.log('This is a desktop device.');
        return false;
    }
}

/*
// 获取 URL 中的参数
function getParameterByName(name, url) {
    if (!url) 
        url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
    results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}
*/

// 读取名为 "param" 的参数
if (readParam('app') === '中英文聖經') {
    if (detectDevice())
        preload('./json/dash_Bible_m.json');
    else 
        preload('./json/dash_Bible.json');
} else {
    let value = readParam('json');
    if (value) 
        preload('./' + value);
}


var itv = null;

function waitMsg() {
    console.log('wait! ' + applets.length);
    if (applets.length > 0) {
        clearInterval(itv);
        applets[0].elm.focus();
    }
}

itv = window.setInterval(waitMsg, 200);

</script>