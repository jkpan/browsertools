<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" charset="UTF-8"/>
  <style>
  body {
    margin: 0px;
    height: 100%;
    width: 100%;
    background-color: rgb(50, 50, 50);
  }
  ::-webkit-scrollbar {
    display: none;
  }
  .wrapper {
    display: grid;
    gap: 0px;
    
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
    grid-template-rows:    1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;

    width: 100%;
    height: 100vh;
  }
  .full {
    
    grid-column: 1 / 33;
    grid-row: 1 / 33;

    user-select: none;

    border-radius: 10px;

    /*transform-origin: left center;*/

  }
</style>
</head>
<body>

<div id="mainDiv" class="wrapper" style="background-color: #007000; opacity: 1.0;"></div>

</body>
</html>
<script type="text/javascript" src="common.js" charset="UTF-8"></script>
<script type="text/javascript" src="dashboard.js" charset="UTF-8"></script>
<script>

var itv = null;

function waitMsg() {
    console.log('wait! ' + applets.length);
    if (applets.length > 0) {
        clearInterval(itv);
        applets[0].elm.focus();
    }
}

function handleCb(msg) {
    if (msg === 'done') {
        itv = null;
        itv = window.setInterval(waitMsg, 200);
    } else {
        console.log('error : handleCb');
    }
}
// 读取名为 "param" 的参数
if (readParam('app') === '中英文聖經') {
    if (detectDevice())
        preload('./json/dash_ce_Bible_m.json', handleCb);
    else 
        preload('./json/dash_ce_Bible.json', handleCb);
} if (readParam('app') === '中文聖經') {
    preload('./json/dash_c_Bible.json', handleCb);
} if (readParam('app') === '英文聖經') {
    preload('./json/dash_e_Bible.json', handleCb);
} else {
    let value = readParam('json');
    if (value) 
        preload('./' + value, handleCb);
}

</script>